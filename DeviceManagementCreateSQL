CREATE DATABASE DeviceList;
USE DATABASE DeviceList;
/
CREATE TABLE Device (
    ID			INT 		  NOT NULL,
    DeviceName 	VARCHAR (255) NOT NULL,
    ScreenSize 	VARCHAR (255) NOT NULL,
    OS			VARCHAR (255) NOT NULL,
	OSVersion 	VARCHAR (255) NOT NULL,
    PRIMARY KEY(ID)
);
CREATE TABLE Users (
    ID			INT			NOT NULL,
    UserName    VARCHAR (255) NOT NULL,
    Email      VARCHAR (255) NOT NULL,
    PhoneNumber VARCHAR (255) NOT NULL,
    PRIMARY KEY (ID)
);

CREATE TABLE UsersDevice (
    DeviceID			INT			  NOT NULL,
	UsersID				INT		      NOT NULL,
    UsersUserName    	VARCHAR (255) NOT NULL,
    DeviceDeviceName 	VARCHAR (255) NOT NULL,
	DeviceOS			VARCHAR (255) NOT NULL,
    PRIMARY KEY (DeviceID, UsersID),
    FOREIGN KEY (UsersUserName) REFERENCES Users (UserName) ON DELETE CASCADE ON UPDATE CASCADE,
    FOREIGN KEY (DeviceDeviceName) REFERENCES Device (DeviceName) ON DELETE CASCADE ON UPDATE CASCADE,
	FOREIGN KEY (DeviceOS) REFERENCES Device(OS) ON DELETE CASCADE ON UPDATE CASCADE,
	FOREIGN KEY (DeviceID) REFERENCES Device(ID) ON DELETE CASCADE ON UPDATE CASCADE,
	FOREIGN KEY (UsersID) REFERENCES Users(ID) ON DELETE CASCADE ON UPDATE CASCADE
);
